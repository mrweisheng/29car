# å›½é™…åŒ–å¼€å‘è§„èŒƒæŒ‡å—

## ğŸ“‹ æ¦‚è¿°

æœ¬æ–‡æ¡£æ—¨åœ¨è§„èŒƒå›½é™…åŒ–ï¼ˆi18nï¼‰åŠŸèƒ½çš„å¼€å‘æµç¨‹ï¼Œç¡®ä¿ä»£ç è´¨é‡å’ŒåŠŸèƒ½ç¨³å®šæ€§ã€‚

## ğŸ—ï¸ æ¶æ„è®¾è®¡

### æ–‡ä»¶ç»“æ„
```
src/i18n/
â”œâ”€â”€ index.js          # ä¸»é…ç½®æ–‡ä»¶
â”œâ”€â”€ types.ts          # TypeScript ç±»å‹å®šä¹‰
â””â”€â”€ locales/          # è¯­è¨€æ–‡ä»¶
    â”œâ”€â”€ zh-CN.js      # ç®€ä½“ä¸­æ–‡
    â”œâ”€â”€ en-US.js      # è‹±æ–‡
    â””â”€â”€ zh-HK.js      # ç¹ä½“ä¸­æ–‡ï¼ˆå›é€€è¯­è¨€ï¼‰
```

### é”®åå‘½åè§„èŒƒ

#### 1. åˆ†å±‚ç»“æ„
```javascript
// âœ… æ¨èï¼šæ¸…æ™°çš„åˆ†å±‚ç»“æ„
{
  home: {
    category: {
      private: 'ç§å®¶è½¦',
      van: 'é¢åŒ…è½¦'
    }
  },
  search: {
    filters: {
      priceRange: {
        title: 'ä»·æ ¼èŒƒå›´',
        options: {
          all: 'å…¨éƒ¨',
          under50k: '5ä¸‡ä»¥ä¸‹'
        }
      }
    }
  }
}

// âŒ é¿å…ï¼šæ‰å¹³ç»“æ„
{
  'home.category.private': 'ç§å®¶è½¦',
  'home.category.van': 'é¢åŒ…è½¦'
}
```

#### 2. å‘½åçº¦å®š
- ä½¿ç”¨å°é©¼å³°å‘½åæ³•ï¼ˆcamelCaseï¼‰
- é”®åè¦å…·æœ‰æè¿°æ€§ï¼Œé¿å…ç¼©å†™
- ä¿æŒè‹±æ–‡é”®åçš„ä¸€è‡´æ€§

#### 3. é¿å…çš„å‘½å
```javascript
// âŒ é¿å…ï¼šæ•°å­—å¼€å¤´
'1stCategory': 'ç¬¬ä¸€ç±»'

// âŒ é¿å…ï¼šç‰¹æ®Šå­—ç¬¦
'category-name': 'åˆ†ç±»åç§°'

// âŒ é¿å…ï¼šè¿‡é•¿çš„é”®å
'veryLongKeyNameThatIsHardToRead': 'å¾ˆé•¿çš„é”®å'
```

## ğŸ”§ å¼€å‘æµç¨‹

### 1. æ–°å¢ç¿»è¯‘å‰çš„æ£€æŸ¥æ¸…å•

- [ ] æ£€æŸ¥é”®åæ˜¯å¦å·²å­˜åœ¨
- [ ] ç¡®è®¤é”®è·¯å¾„ç»“æ„æ˜¯å¦åˆç†
- [ ] éªŒè¯æ‰€æœ‰è¯­è¨€æ–‡ä»¶æ˜¯å¦éœ€è¦åŒæ­¥æ›´æ–°

### 2. æ·»åŠ æ–°ç¿»è¯‘çš„æ­¥éª¤

```javascript
// 1. åœ¨ types.ts ä¸­æ·»åŠ ç±»å‹å®šä¹‰
export interface I18nKeys {
  newFeature: {
    title: string;
    description: string;
  };
}

// 2. åœ¨æ‰€æœ‰è¯­è¨€æ–‡ä»¶ä¸­æ·»åŠ ç¿»è¯‘
// zh-CN.js
newFeature: {
  title: 'æ–°åŠŸèƒ½',
  description: 'åŠŸèƒ½æè¿°'
}

// en-US.js
newFeature: {
  title: 'New Feature',
  description: 'Feature description'
}

// zh-HK.js
newFeature: {
  title: 'æ–°åŠŸèƒ½',
  description: 'åŠŸèƒ½æè¿°'
}

// 3. åœ¨ç»„ä»¶ä¸­ä½¿ç”¨
const { t } = useI18n();
const title = t('newFeature.title');
```

### 3. ä¿®æ”¹ç°æœ‰ç¿»è¯‘çš„æ³¨æ„äº‹é¡¹

- ä¸è¦åˆ é™¤æ­£åœ¨ä½¿ç”¨çš„é”®
- ä¿®æ”¹å‰ç¡®è®¤æ‰€æœ‰å¼•ç”¨ä½ç½®
- ä¿æŒé”®åå‘åå…¼å®¹

## ğŸš¨ å¸¸è§é—®é¢˜å’Œè§£å†³æ–¹æ¡ˆ

### 1. é”®åå†²çª
```javascript
// âŒ é—®é¢˜ï¼šé‡å¤å®šä¹‰
{
  search: {
    filters: {
      priceRange: 'ä»·æ ¼èŒƒå›´'  // å­—ç¬¦ä¸²
    }
  },
  search: {
    filters: {
      priceRange: {           // å¯¹è±¡ - å†²çªï¼
        all: 'å…¨éƒ¨'
      }
    }
  }
}

// âœ… è§£å†³æ–¹æ¡ˆï¼šé‡å‘½åé¿å…å†²çª
{
  search: {
    filters: {
      priceRangeTitle: 'ä»·æ ¼èŒƒå›´',  // æ ‡é¢˜
      priceRange: {                 // é€‰é¡¹
        all: 'å…¨éƒ¨'
      }
    }
  }
}
```

### 2. è·¯å¾„ä¸ä¸€è‡´
```javascript
// âŒ é—®é¢˜ï¼šä¸åŒç»„ä»¶ä½¿ç”¨ä¸åŒè·¯å¾„
// ç»„ä»¶A
t('search.allVehicles')

// ç»„ä»¶B  
t('search.filters.allVehicles')

// âœ… è§£å†³æ–¹æ¡ˆï¼šç»Ÿä¸€è·¯å¾„
// æ‰€æœ‰ç»„ä»¶éƒ½ä½¿ç”¨
t('search.filters.allVehicles')
```

### 3. å›é€€è¯­è¨€ç¼ºå¤±
```javascript
// âŒ é—®é¢˜ï¼šå›é€€è¯­è¨€ç¼ºå°‘ç¿»è¯‘
// zh-HK.js ç¼ºå°‘æŸäº›é”®ï¼Œå¯¼è‡´æ˜¾ç¤ºé”®å

// âœ… è§£å†³æ–¹æ¡ˆï¼šç¡®ä¿å›é€€è¯­è¨€å®Œæ•´
// æ¯æ¬¡æ·»åŠ æ–°ç¿»è¯‘æ—¶ï¼ŒåŒæ­¥æ›´æ–°æ‰€æœ‰è¯­è¨€æ–‡ä»¶
```

## ğŸ§ª æµ‹è¯•å’ŒéªŒè¯

### 1. è¿è¡ŒéªŒè¯è„šæœ¬
```bash
npm run validate-i18n
```

### 2. æ‰‹åŠ¨æ£€æŸ¥æ¸…å•
- [ ] æ‰€æœ‰è¯­è¨€æ–‡ä»¶ç»“æ„ä¸€è‡´
- [ ] æ²¡æœ‰é‡å¤çš„é”®å
- [ ] æ‰€æœ‰é”®éƒ½æœ‰å¯¹åº”çš„ç¿»è¯‘
- [ ] å›é€€è¯­è¨€å®Œæ•´

### 3. åŠŸèƒ½æµ‹è¯•
- [ ] åˆ‡æ¢è¯­è¨€åŠŸèƒ½æ­£å¸¸
- [ ] æ‰€æœ‰æ–‡æœ¬æ­£ç¡®æ˜¾ç¤º
- [ ] æ²¡æœ‰æ˜¾ç¤ºé”®åçš„æƒ…å†µ

## ğŸ“š æœ€ä½³å®è·µ

### 1. ç»„ä»¶ä¸­çš„ä½¿ç”¨
```vue
<template>
  <!-- âœ… æ¨èï¼šä½¿ç”¨è®¡ç®—å±æ€§ -->
  <h1>{{ pageTitle }}</h1>
  
  <!-- âŒ é¿å…ï¼šæ¨¡æ¿ä¸­ç›´æ¥è°ƒç”¨ -->
  <h1>{{ $t('page.title') }}</h1>
</template>

<script setup>
import { computed } from 'vue';
import { useI18n } from 'vue-i18n';

const { t } = useI18n();

// âœ… æ¨èï¼šè®¡ç®—å±æ€§ç¼“å­˜ç¿»è¯‘ç»“æœ
const pageTitle = computed(() => t('page.title'));
</script>
```

### 2. åŠ¨æ€é”®å
```javascript
// âœ… æ¨èï¼šä½¿ç”¨æ¨¡æ¿å­—ç¬¦ä¸²
const fuelType = 'gasoline';
const fuelTypeText = t(`search.fuelTypes.${fuelType}`);

// âŒ é¿å…ï¼šå­—ç¬¦ä¸²æ‹¼æ¥
const fuelTypeText = t('search.fuelTypes.' + fuelType);
```

### 3. å¤æ•°å¤„ç†
```javascript
// âœ… æ¨èï¼šä½¿ç”¨å‚æ•°åŒ–ç¿»è¯‘
const count = 5;
const message = t('search.resultsFound', { count });

// åœ¨è¯­è¨€æ–‡ä»¶ä¸­
{
  search: {
    resultsFound: 'æ‰¾åˆ° {count} è¾†è½¦'
  }
}
```

## ğŸ” è°ƒè¯•æŠ€å·§

### 1. å¯ç”¨è°ƒè¯•æ¨¡å¼
```javascript
// åœ¨ i18n/index.js ä¸­
const i18n = createI18n({
  locale: getDefaultLocale(),
  fallbackLocale: 'zh-HK',
  messages,
  silentTranslationWarn: false, // æ˜¾ç¤ºè­¦å‘Š
  missingWarn: true,            // æ˜¾ç¤ºç¼ºå¤±é”®è­¦å‘Š
  fallbackWarn: true            // æ˜¾ç¤ºå›é€€è­¦å‘Š
});
```

### 2. æµè§ˆå™¨æ§åˆ¶å°æ£€æŸ¥
```javascript
// æ£€æŸ¥å½“å‰è¯­è¨€
console.log(i18n.global.locale.value);

// æ£€æŸ¥æ‰€æœ‰å¯ç”¨é”®
console.log(i18n.global.messages.value);

// æµ‹è¯•ç¿»è¯‘
console.log(i18n.global.t('test.key'));
```

## ğŸ“ æ€»ç»“

éµå¾ªè¿™äº›è§„èŒƒå¯ä»¥ï¼š
- é¿å…é”®åå†²çªå’Œè·¯å¾„ä¸ä¸€è‡´
- æé«˜ä»£ç å¯ç»´æŠ¤æ€§
- å‡å°‘å›½é™…åŒ–ç›¸å…³çš„ bug
- æå‡å¼€å‘æ•ˆç‡

è®°ä½ï¼š**é¢„é˜²èƒœäºæ²»ç–—**ï¼Œåœ¨å¼€å‘è¿‡ç¨‹ä¸­ä¸¥æ ¼éµå¾ªè§„èŒƒï¼Œæ¯”åæœŸä¿®å¤é—®é¢˜è¦é«˜æ•ˆå¾—å¤šã€‚

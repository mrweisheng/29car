# 车辆展示逻辑文档

## 🎯 车辆分类

### 车辆类型
1. **特价车辆**：`is_special_offer === 1`
2. **普通车辆**：`is_special_offer === 0` 或未设置

## 👥 用户分类

### 用户类型
1. **明哥用户**：`username === 'mingge'` 的登录用户
2. **普通用户**：除明哥外的其他登录用户
3. **未登录用户**：未登录的访客

## 📋 展示逻辑详情

### 1. 车辆列表页面展示

#### 特价车辆展示

**明哥用户查看特价车：**
- 价格：显示固定信息 "HKD$98,000（包含车+两地牌）"
- 联系信息：显示真实联系人姓名和电话
- 徽章：显示红色星形特价徽章
- 价格颜色：红色显示

**普通用户查看特价车：**
- 价格：显示固定信息 "HKD$98,000（包含车+两地牌）"
- 联系信息：显示 "明哥 98702065"
- 徽章：显示红色星形特价徽章
- 价格颜色：红色显示

**未登录用户查看特价车：**
- 价格：显示固定信息 "HKD$98,000（包含车+两地牌）"
- 联系信息：显示 "明哥 98702065"
- 徽章：显示红色星形特价徽章
- 价格颜色：红色显示

#### 普通车辆展示

**明哥用户查看普通车：**
- 价格：显示真实价格（`current_price` 和 `original_price`）
- 联系信息：显示真实联系人姓名和电话
- 徽章：根据车辆状态显示（精选、新上架等）
- 价格颜色：正常蓝色显示

**普通用户查看普通车：**
- 价格：显示真实价格（`current_price` 和 `original_price`）
- 联系信息：显示 "明哥 98702065"
- 徽章：根据车辆状态显示（精选、新上架等）
- 价格颜色：正常蓝色显示

**未登录用户查看普通车：**
- 价格：显示真实价格（`current_price` 和 `original_price`）
- 联系信息：显示 "明哥 98702065"
- 徽章：根据车辆状态显示（精选、新上架等）
- 价格颜色：正常蓝色显示

### 2. 车辆详情页面展示

#### 特价车辆详情

**明哥用户查看特价车详情：**
- 价格信息：显示真实价格，包括原价和折扣信息
- 联系信息：显示真实联系人姓名和完整电话号码
- 车辆描述：显示完整描述信息
- 图片：显示所有车辆图片

**普通用户查看特价车详情：**
- 价格信息：显示固定价格 "HKD$98,000（包含车+两地牌）"（红色显示）
- 联系信息：显示 "明哥 98702065"
- 车辆描述：显示完整描述信息
- 图片：显示所有车辆图片

**未登录用户查看特价车详情：**
- 价格信息：显示固定价格 "HKD$98,000（包含车+两地牌）"（红色显示）
- 联系信息：显示 "明哥 98702065"
- 车辆描述：显示完整描述信息
- 图片：显示所有车辆图片

#### 普通车辆详情

**明哥用户查看普通车详情：**
- 价格信息：显示真实价格，包括原价和折扣信息
- 联系信息：显示真实联系人姓名和完整电话号码
- 车辆描述：显示完整描述信息
- 图片：显示所有车辆图片

**普通用户查看普通车详情：**
- 价格信息：显示真实价格，包括原价和折扣信息
- 联系信息：显示 "明哥 98702065"
- 车辆描述：显示完整描述信息
- 图片：显示所有车辆图片

**未登录用户查看普通车详情：**
- 价格信息：显示真实价格，包括原价和折扣信息
- 联系信息：显示 "明哥 98702065"
- 车辆描述：显示完整描述信息
- 图片：显示所有车辆图片

### 3. 价格显示规则

#### 特价车辆价格
- **列表页面**：所有用户统一显示 "HKD$98,000（包含车+两地牌）"
- **详情页面**：明哥用户显示真实价格，其他用户显示固定价格

#### 普通车辆价格
- **所有用户**：显示真实价格，支持折扣计算
- **价格格式**：HKD$ + 千分位分隔符
- **折扣显示**：原价划线 + 折扣百分比

### 4. 联系信息显示规则

#### 特价车辆联系信息
- **明哥用户**：显示真实联系人姓名和电话
- **其他用户**：统一显示 "明哥 98702065"

#### 普通车辆联系信息
- **明哥用户**：显示真实联系人姓名和电话
- **其他用户**：统一显示 "明哥 98702065"

### 5. 视觉标识规则

#### 特价车辆标识
- **徽章**：红色星形图标
- **价格颜色**：红色显示
- **特殊样式**：特价车专用样式类

#### 普通车辆标识
- **徽章**：根据状态显示（精选、新上架、已售等）
- **价格颜色**：正常蓝色显示
- **样式**：标准车辆卡片样式

### 6. 权限控制总结

#### 明哥用户权限
- 列表页面：特价车显示固定价格，普通车显示真实价格
- 详情页面：可以查看所有车辆的真实价格和联系信息
- 拥有完整的信息访问权限

#### 普通用户权限
- 列表页面：特价车显示固定价格，普通车显示真实价格
- 详情页面：特价车显示固定价格，普通车显示真实价格
- 联系信息统一显示，部分信息脱敏处理

#### 未登录用户权限
- 列表页面：特价车显示固定价格，普通车显示真实价格
- 详情页面：特价车显示固定价格，普通车显示真实价格
- 联系信息统一显示，信息脱敏程度最高

### 7. 应用页面

#### 车辆列表页面
- 首页（Home.vue）：精选车辆、特价车辆专区、最新上架
- 搜索页面（Search.vue）：搜索结果列表
- 特价车页面（SpecialOffer.vue）：特价车专门列表

#### 车辆详情页面
- 车辆详情抽屉（VehicleDetailDrawer.vue）：所有页面的详情展示

### 8. 数据字段说明

#### 关键字段
- `is_special_offer`：特价标识（1=特价车，0=普通车）
- `current_price`：当前价格
- `original_price`：原价
- `contact_name`：联系人姓名
- `phone_number`：联系电话

#### 权限判断字段
- `username`：用户名（用于判断是否为明哥用户）
- `isLoggedIn`：登录状态
- `userInfo`：用户信息对象

### 9. 注意事项

#### 数据一致性
- 所有页面使用相同的价格格式化逻辑
- 所有页面使用相同的权限判断逻辑
- 确保特价车在不同页面的显示一致

#### 用户体验
- 特价车有明显的视觉标识
- 价格信息清晰易懂
- 联系信息便于用户联系

#### 安全性
- 敏感信息对普通用户进行脱敏处理
- 明哥用户拥有完整的信息访问权限
- 未登录用户的信息脱敏程度最高
